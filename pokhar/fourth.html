<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Upgraded Card Gravity Fall</title>
<style>
body {
    background: #111;
    overflow: hidden;
    margin: 0;
    font-family: Arial;
}

#spawnBtn {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 25px;
    font-size: 20px;
    background: linear-gradient(45deg, #00eaff, #ff00e0);
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    z-index: 1000;
}

.card {
    width: 80px;
    height: 120px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: center;
    perspective: 800px;
}

.card-inner {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    border-radius: 10px;
}

.card.flip .card-inner {
    transform: rotateY(180deg);
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 30px;
    font-weight: bold;
    box-shadow: 0 0 15px #00eaff, 0 0 30px #ff00e0;
}

.card-front {
    background: white;
    color: black;
}

.card-back {
    background: #222;
    color: white;
    transform: rotateY(180deg);
}
.particle {
    position: absolute;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    pointer-events: none;
}
</style>
</head>
<body>

<button id="spawnBtn">âœ¨ Spawn Cards 10s âœ¨</button>

<script>
const cardFaces = ["Aâ™ ","Kâ™¥","Qâ™¦","Jâ™£","10â™ ","9â™¥","8â™¦","7â™£","Aâ™¦","Kâ™£"];

// Particle function
function createParticle(x, y, color){
    const p = document.createElement('div');
    p.className = 'particle';
    p.style.left = x + 'px';
    p.style.top = y + 'px';
    p.style.background = color;
    document.body.appendChild(p);

    let dx = (Math.random()-0.5)*6;
    let dy = (Math.random()-0.5)*6;
    let life = 20;
    function animateParticle(){
        if(life-- > 0){
            p.style.left = (parseFloat(p.style.left)+dx) + 'px';
            p.style.top = (parseFloat(p.style.top)+dy) + 'px';
            p.style.opacity = life/20;
            requestAnimationFrame(animateParticle);
        } else p.remove();
    }
    animateParticle();
}

document.getElementById("spawnBtn").addEventListener("click", () => {
    let startTime = Date.now();
    let interval = setInterval(()=>{
        let elapsed = Date.now() - startTime;
        if(elapsed > 10000){ // stop after 10 seconds
            clearInterval(interval);
            return;
        }
        spawnCard();
    }, 150); // spawn card every 150ms
});

function spawnCard(){
    const card = document.createElement('div');
    card.className = 'card';

    const inner = document.createElement('div');
    inner.className = 'card-inner';

    const front = document.createElement('div');
    front.className = 'card-front';
    front.textContent = cardFaces[Math.floor(Math.random()*cardFaces.length)];

    const back = document.createElement('div');
    back.className = 'card-back';
    back.textContent = "ðŸ‚ ";

    inner.appendChild(front);
    inner.appendChild(back);
    card.appendChild(inner);
    document.body.appendChild(card);

    // initial center position
    let posX = window.innerWidth/2 - 40;
    let posY = window.innerHeight/2 - 60;

    card.style.left = posX + 'px';
    card.style.top = posY + 'px';

    // flip card with random delay
    setTimeout(()=> inner.classList.add('flip'), Math.random()*300);

    // launch parameters
    let angle = Math.random()*Math.PI - Math.PI/2; // curvy direction
    let velocityX = 5 * Math.cos(angle);
    let velocityY = -15 + Math.random()*5; // upward
    let gravity = 0.6;
    let rotation = 0;
    let rotationSpeed = Math.random()*20-10; // random spin
    let color = `hsl(${Math.random()*360},80%,60%)`; // particle color

    function animate(){
        velocityY += gravity;
        posX += velocityX + Math.sin(posY/50)*2; // curvy path
        posY += velocityY;
        rotation += rotationSpeed;

        card.style.left = posX + 'px';
        card.style.top = posY + 'px';
        card.style.transform = `rotate(${rotation}deg)`;

        // Particle trail
        createParticle(posX+40, posY+60, color);

        if(posY > window.innerHeight){
            card.remove();
        } else {
            requestAnimationFrame(animate);
        }
    }
    animate();
}
</script>

</body>
</html>
